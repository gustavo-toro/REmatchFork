(this.webpackJsonprematch=this.webpackJsonprematch||[]).push([[0],{61:function(e,A){e.exports="data:image/png;base64,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"},77:function(e,A,t){e.exports=t(90)},82:function(e,A,t){},90:function(e,A,t){"use strict";t.r(A);var a=t(0),r=t.n(a),n=t(8),o=t.n(n),c=(t(82),t(50)),s=t(49),l=t.n(s),i=t(57),m=t(58),u=t(59),g=t(66),d=t(64),E=t(63),p=t(144),h=t(145),C=t(148),v=t(147),f=t(157),w=t(134),I=t(146),x=t(137),y=t(155),b=t(149),k=t(150),B=t(131),O=t(153),L=function(e){var A=e.title;return r.a.createElement(B.a,{variant:"body2",component:"div",style:{color:"#000000",backgroundColor:"#03DAC6",padding:".4rem 0 .4rem 1rem"}},r.a.createElement(O.a,{fontWeight:"fontWeightBold"},A))},P=t(35),R=t(65),F=t(139),M=t(143),j=t(142),Q=t(138),S=t(140),z=t(141),J=t(151),T=t(156),K=t(154),N=function(e){var A=e.matches,t=e.schema,n=e.textEditor,o=e.addMarks,c=e.clearMarks,s=Object(a.useState)({page:0,rowsPerPage:25}),l=Object(R.a)(s,2),i=l[0],m=l[1];return Object(a.useEffect)((function(){0===A.length&&m((function(e){return Object(P.a)(Object(P.a)({},e),{},{page:0})}))}),[A]),r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{container:!0},r.a.createElement(w.a,{item:!0,md:10,sm:8,xs:12,style:{padding:".5rem 0",display:"flex",alignItems:"center"}},r.a.createElement(K.a,{page:i.page+1,style:{display:"block"},count:Math.ceil(A.length/i.rowsPerPage),onChange:function(e,A){m((function(e){return Object(P.a)(Object(P.a)({},e),{},{page:A-1})}))}})),r.a.createElement(w.a,{item:!0,md:2,sm:4,xs:12,style:{padding:".5rem",display:"flex",alignItems:"center"}},r.a.createElement(J.a,{style:{width:"100%"},value:i.rowsPerPage,labelId:"demo-simple-select-label",onChange:function(e){m({page:0,rowsPerPage:e.target.value})}},r.a.createElement(T.a,{value:10},"10 rows per page"),r.a.createElement(T.a,{value:25},"25 rows per page"),r.a.createElement(T.a,{value:50},"50 rows per page"),r.a.createElement(T.a,{value:100},"100 rows per page")))),r.a.createElement(Q.a,{style:{height:"40vh",oveflow:"auto"}},r.a.createElement(F.a,{stickyHeader:!0,size:"small"},r.a.createElement("colgroup",null,t.map((function(e,A){return r.a.createElement("col",{key:A,style:{width:"".concat(100/t.length,"%")}})}))),r.a.createElement(S.a,null,A.length>0?r.a.createElement(z.a,null,t.map((function(e,A){return r.a.createElement(j.a,{className:"th".concat(A),key:A},e)}))):r.a.createElement(z.a,null,r.a.createElement(j.a,{style:{backgroundColor:"transparent"}},"No matches"))),r.a.createElement(M.a,null,(i.rowsPerPage>0?A.slice(i.page*i.rowsPerPage,i.page*i.rowsPerPage+i.rowsPerPage):A).map((function(e,A){return r.a.createElement(z.a,{key:A,hover:!0,style:{cursor:"pointer"},onClick:function(){return function(e){c(),o(e)}(e)}},e.map((function(e,A){var t=n.getRange(n.posFromIndex(e[0]),n.posFromIndex(e[1]));return r.a.createElement(j.a,{key:A,style:{padding:0}},r.a.createElement("div",{style:{padding:"6px 24px 6px 16px"}},t.length>36?t.slice(0,36)+"...":t))})))}))))))},W=t(34),D=t.n(W),Z=(t(87),t(88),t(61)),V=t.n(Z),X="".concat("/REmatch","/work.js"),q=1*Math.pow(10,8),H=new Worker(X);D.a.defineSimpleMode("rematchQuery",{start:[{regex:/(![A-Za-z0-9]+\{|\})/,token:"m0"},{regex:/(\\d)|(\\w)|(\\s)|(\\t)|(\\r)|(\\n)|(\\\()|(\\\))|(\\\[)|(\\\])|(\\\{)|(\\\})|(\\\.)|(\\-)|(\\_)/i,token:"m2"},{regex:/(\(|\)|\||\[|\]|-)/,token:"m3"},{regex:/(\.\+|\.\*|\.|\+)/,token:"m1"}]});var U=Object(E.a)({palette:{type:"dark",primary:{main:"#03DAC6"},background:{paper:"#212121",default:"#353535"}}}),Y=function(e){Object(g.a)(t,e);var A=Object(d.a)(t);function t(e){var a;return Object(m.a)(this,t),(a=A.call(this,e)).addMarks=function(e){var A,t;e.forEach((function(e,r){A=a.state.textEditor.posFromIndex(e[0]),t=a.state.textEditor.posFromIndex(e[1]),a.state.textEditor.markText(A,t,{className:"m".concat(r)})})),a.state.textEditor.scrollIntoView(A,200)},a.clearMarks=function(){a.state.textEditor.getAllMarks().forEach((function(e){e.clear()}))},a.handleFile=function(){var e=Object(i.a)(l.a.mark((function e(A){var t,r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=A.target.files[0]){e.next=3;break}return e.abrupt("return");case 3:a.state.textEditor.setValue(""),a.clearMarks(),a.setState({matches:[],schema:[],uploadingFile:!0,fileProgress:0}),r=0,n=q;case 9:if(!(r<t.size)){e.next=14;break}return e.next=12,t.slice(r,n).text().then((function(e){a.setState({fileProgress:Math.round(1e4*r/t.size)/100}),a.state.textEditor.replaceRange(e,{line:1/0}),r=n,n+=q}));case 12:e.next=9;break;case 14:console.log("upload done"),a.setState({uploadingFile:!1});case 16:case"end":return e.stop()}}),e)})));return function(A){return e.apply(this,arguments)}}(),a.runWorker=function(){console.log("STARTED"),a.clearMarks(),a.setState({matches:[],schema:[]}),H.postMessage({text:a.state.textEditor.getValue(),query:a.state.queryEditor.getValue()}),H.onmessage=function(e){switch(e.data.type){case"SCHEMA":a.setState({schema:e.data.payload});break;case"MATCHES":a.setState((function(A){return{matches:[].concat(Object(c.a)(A.matches),Object(c.a)(e.data.payload))}}));break;case"ERROR":console.log("ERROR:",e.data.payload),H.terminate(),H=new Worker(X),console.log("WORKER HAS BEEN RELOADED")}}},a.state={schema:[],matches:[],uploadingFile:!1,fileProgress:0},a}return Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=D()(document.getElementById("queryEditor"),{value:"!a{[A-Z][a-z]+} !b{is} !c{..} !d{ex[a-z]+} !e{.+}!f{!}",mode:"rematchQuery",theme:"material-darker",lineNumbers:!1,scrollbarStyle:null,smartIndent:!1,indentWithTabs:!0,showInvisibles:!1,undoDepth:100,viewportMargin:10,extraKeys:{Enter:this.runWorker}});e.on("beforeChange",(function(e,A){if(!["undo","redo"].includes(A.origin)){var t=A.text.join("").replace(/\n/g,"");A.update(A.from,A.to,[t])}return!0}));var A=D()(document.getElementById("textEditor"),{value:"This is an example text!",mode:"text/plain",theme:"material-darker",lineNumbers:!0,scrollbarStyle:"native",smartIndent:!1,indentWithTabs:!0,showInvisibles:!0,undoDepth:100,viewportMargin:15});this.setState({queryEditor:e,textEditor:A})}},{key:"render",value:function(){return r.a.createElement(p.a,{theme:U},r.a.createElement(h.a,null),r.a.createElement(I.a,{className:"container"},r.a.createElement(f.a,{open:this.state.uploadingFile,style:{zIndex:6e3,display:"flex",flexDirection:"column"}},r.a.createElement(v.a,{color:"primary",size:"3rem"}),r.a.createElement("h2",{style:{color:"#fff"}},"Loading (",this.state.fileProgress,"%)")),r.a.createElement("img",{className:"logo",src:V.a,alt:"REmatch"}),r.a.createElement(x.a,{elevation:5,style:{overflow:"hidden"}},r.a.createElement(w.a,{container:!0},r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(L,{title:"Expression"})),r.a.createElement(w.a,{item:!0,sm:10,xs:8},r.a.createElement("div",{id:"queryEditor"})),r.a.createElement(w.a,{item:!0,sm:2,xs:4},r.a.createElement(y.a,{title:"Run query"},r.a.createElement(C.a,{color:"primary",variant:"text",startIcon:r.a.createElement(b.a,null),onClick:this.runWorker,style:{width:"100%",height:"100%"}},"Run"))),r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(L,{title:"Text"})),r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement("div",{id:"textEditor"},r.a.createElement("input",{accept:"*",id:"fileInput",type:"file",style:{display:"none"},onChange:this.handleFile}),r.a.createElement("label",{htmlFor:"fileInput"},r.a.createElement(y.a,{title:"Upload a file"},r.a.createElement(C.a,{size:"medium",variant:"contained",component:"span",color:"primary",className:"uploadButton"},r.a.createElement(k.a,null)))))),r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(L,{title:"Matches"})),r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(N,{matches:this.state.matches,schema:this.state.schema,textEditor:this.state.textEditor,addMarks:this.addMarks,clearMarks:this.clearMarks}))))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[77,1,2]]]);
//# sourceMappingURL=main.5746ac58.chunk.js.map